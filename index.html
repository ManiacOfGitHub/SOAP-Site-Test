<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>SOAP Interface Test</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <nav class="navbar bg-body-tertiary">
            <div class="container-fluid">
                <div class="mb-0"><span class="navbar-brand h1">NH SOAP Interface Test</span><br>Logged in as: <b>penis lol</b></div>
                <button class="btn btn-secondary material-symbols-outlined" id="switchTheme">light_mode</button>
            </div>
        </nav>
        <div class="container py-2">
            <div class="row gx-5 gy-3">
                <div class="col-12 col-lg">
                    <div class="card">
                        <div class="card-header">
                            <h1 class="card-title fs-3">Recipient</h1>
                        </div>
                        <div class="card-body">
                            <select id="recipient" class="form-select">
                                <option value="none" selected disabled hidden>Discord Username - SERIALNUMBER</option>
                                <option value="appTest">essentialsubmit - XX000000000</option>
                                <option value="kurisuTest">kurisuUpload - XX000000000</option>
                            </select>
                            <div class="accordion accordion-flush mt-2" id="recipientAccordion" style="display: none;">
                                <div class="accordion-item">
                                    <h2 class="accordion-header fs-4">
                                        <button class="accordion-button" data-bs-toggle="collapse" data-bs-target="#recipientInfo">
                                            Information
                                        </button>
                                    </h2>
                                    <div id="recipientInfo" class="accordion-collapse collapse show">
                                        <div class="accordion-body">
                                            <b>Serials:</b>
                                            <span class="text-success fw-bold" id="serialMatch">MATCH</span>
                                            <div id="kurisuUploadSerial" style="display: none;">
                                                <table>
                                                    <tbody>
                                                        <tr>
                                                            <td>Provided:</td>
                                                            <td><b>XX000000000</b></td>
                                                        </tr>
                                                        <tr>
                                                            <td>SecureInfo:</td>
                                                            <td><b>XX000000000</b></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div id="essentialSubmitSerial" style="display: none;">
                                                <table>
                                                    <tbody>
                                                        <tr>
                                                            <td>SD:</td>
                                                            <td><b>XX000000001</b></td>
                                                        </tr>
                                                        <tr>
                                                            <td>NAND:</td>
                                                            <td><b>XX000000000</b></td>
                                                        </tr>
                                                        <tr>
                                                            <td>inspect.log:</td>
                                                            <td><b>XX000000000</b></td>
                                                        </tr>
                                                        <tr>
                                                            <td>SecureInfo:</td>
                                                            <td><b>XX000000000</b></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <hr>
                                            Region: <b>JPN</b><br>
                                            Account State: <b>Registered</b><br>
                                            Last Transfer: <span class="fw-bold" id="lastTransfer"></span><br>
                                            Transfer Cooldown: <span class="fw-bold text-success">NONE</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header fs-4">
                                        <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#recipientActions">
                                            Actions
                                        </button>
                                    </h2>
                                    <div id="recipientActions" class="accordion-collapse collapse">
                                        <div class="accordion-body">
                                            <p class="my-2">If you are just trying to do a SOAP transfer, do not use this. Go to the <a href="#actionCenter">Action Center</a> instead.</p>
                                            <hr>
                                            <button class="btn btn-secondary my-2">Update information</button>
                                            <br>
                                            <button class="btn btn-secondary my-2">Remove from list</button>
                                            <br>
                                            <button class="btn btn-danger my-2">Delete eShop Account</button>
                                            <br>
                                            <button class="btn btn-danger my-2">EShopRegionChange</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-lg">
                    <div class="card">
                        <div class="card-header">
                            <h1 class="card-title fs-3">Donor</h1>
                        </div>
                        <div class="card-body">
                            <select id="donor" class="form-select">
                                <option value="donor1" style="color:rgb(var(--bs-success-rgb))" selected>XX000000002 - 11/27 - USA</option>
                                <option value="donor2" style="color:rgb(var(--bs-secondary-rgb))">XX000000003 - 12/4 - JPN</option>
                            </select>
                            <div class="accordion accordion-flush mt-2" id="donorAccordion" style="display: none;">
                                <div class="accordion-item">
                                    <h2 class="accordion-header fs-4">
                                        <button class="accordion-button" data-bs-toggle="collapse" data-bs-target="#donorInfo">
                                            Information
                                        </button>
                                    </h2>
                                    <div id="donorInfo" class="accordion-collapse collapse show">
                                        <div class="accordion-body">
                                            Serial: <span class="fw-bold" id="donorSerial"></span><br>
                                            Region: <span class="fw-bold" id="donorRegion"></span><br>
                                            Last Transfer: <span class="fw-bold" id="lastTransferDonor"></span><br>
                                            Transfer Cooldown: <span class="fw-bold text-success" id="donorCooldown">NONE</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header fs-4">
                                        <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#donorActions">
                                            Actions
                                        </button>
                                    </h2>
                                    <div id="donorActions" class="accordion-collapse collapse">
                                        <div class="accordion-body">
                                            <p class="my-2">If you are just trying to do a SOAP transfer, do not use this. Go to the <a href="#actionCenter">Action Center</a> instead.</p>
                                            <hr>
                                            <button class="btn btn-secondary my-2">Update information</button>
                                            <br>
                                            <button class="btn btn-danger my-2">EShopRegionChange</button>
                                        </div>
                                    </div>
                                </div>
                            </div>  
                        </div>
                    </div>
                </div>
                <div class="col-12 col-lg">
                    <div class="card">
                        <div class="card-header">
                            <h1 class="card-title fs-3" id="actionCenter">Action Center</h1>
                        </div>
                        <div class="card-body text-center">
                            <button class="btn btn-secondary" id="beginSoap" disabled>Begin SOAP Transfer!</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="soapModal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-4">SOAP Transfer in Progress</h1>
                    </div>
                    <div class="modal-body">
                        <div class="row soapModalRow" id="recipientCheckStatus">
                            <div class="col-1">
                                <div class="spinner-border spinner-border-sm"></div>
                                <span class="material-symbols-outlined pendingIcon">pending</span>
                                <span class="material-symbols-outlined checkIcon">check</span>
                                <span class="material-symbols-outlined errorIcon">error</span>
                            </div>
                            <div class="col">Check recipient</div>
                        </div>
                        <div class="row soapModalRow" id="regionChangeStatus">
                            <div class="col-1">
                                <div class="spinner-border spinner-border-sm"></div>
                                <span class="material-symbols-outlined pendingIcon">pending</span>
                                <span class="material-symbols-outlined checkIcon">check</span>
                                <span class="material-symbols-outlined errorIcon">error</span>
                            </div>
                            <div class="col">Attempt EShopRegionChange</div>
                        </div>
                        <div class="row soapModalRow" id="donorCheckStatus">
                            <div class="col-1">
                                <div class="spinner-border spinner-border-sm"></div>
                                <span class="material-symbols-outlined pendingIcon">pending</span>
                                <span class="material-symbols-outlined checkIcon">check</span>
                                <span class="material-symbols-outlined errorIcon">error</span>
                            </div>
                            <div class="col">Check donor</div>
                        </div>
                        <div class="row soapModalRow" id="sysTransferStatus">
                            <div class="col-1">
                                <div class="spinner-border spinner-border-sm"></div>
                                <span class="material-symbols-outlined pendingIcon">pending</span>
                                <span class="material-symbols-outlined checkIcon">check</span>
                                <span class="material-symbols-outlined errorIcon">error</span>
                            </div>
                            <div class="col">SysTransfer</div>
                        </div>
                        <div class="row soapModalRow" id="soapTransferComplete">
                            <div class="col-1">
                                <div class="spinner-border spinner-border-sm"></div>
                                <span class="material-symbols-outlined pendingIcon">pending</span>
                                <span class="material-symbols-outlined checkIcon">check</span>
                                <span class="material-symbols-outlined errorIcon">error</span>
                            </div>
                            <div class="col">SOAP Transfer in progress...</div>
                        </div>
                        <hr>
                        <p id="soapTransferFinishedMsg"></p>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script src="script.js"></script>
    </body>
</html>